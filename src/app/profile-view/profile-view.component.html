<app-navbar></app-navbar>
<div>
    <h1
        [ngStyle]="{'color': '#fff', 'opacity': '0.8', 'margin-bottom': '0.5rem', 'margin-left': '2rem', 'margin-top': '2rem'}">
        Margin
    </h1>
</div>
<h1 [ngStyle]="{'color': '#fff', 'opacity': '0.8', 'margin-bottom': '0.5rem'}">
    Hi {{currentUser.Username}}!
</h1>
<h2 [ngStyle]="{'color': '#fff', 'opacity': '0.8', 'margin-bottom': '0.5rem'}">
    Your favorite movies...
</h2>
<div style="display: flex;" [ngStyle]="{'margin-top': '0.5rem'}">
    <mat-card *ngFor="let favoriteMoviesObject of favoriteMoviesObjects;" style="flex: 1 1 auto;">
        <mat-card-content>
            <img src={{favoriteMoviesObject.ImagePath}} />
            <mat-card-title [ngStyle]="{'color': '#fff', 'opacity': '0.8', 'margin-top': '8px'}">
                {{favoriteMoviesObject.Title}}
            </mat-card-title>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button
                [ngStyle]="{'color': '#42a5f5', 'margin-left': '0', 'padding-left': '0', 'margin-bottom': '0.5rem'}"
                (click)="showDirector(favoriteMoviesObject.Director.Name, favoriteMoviesObject.Director.Bio, favoriteMoviesObject.Director.Birth)"
                color="primary">
                {{favoriteMoviesObject.Director.Name}}
            </button>
            <button mat-flat-button [ngStyle]="{'background-color': '#9575cd', 'width': '100%'}"
                (click)="showDetails(favoriteMoviesObject.Title, favoriteMoviesObject.Director.Name, favoriteMoviesObject.ImagePath, favoriteMoviesObject.Description)"
                color="primary">
                Details
            </button>
            <button mat-button [ngStyle]="{'color': '#42a5f5', 'margin-left': '0', 'padding-left': '0'}"
                (click)="showGenre(favoriteMoviesObject.Genre.Name, favoriteMoviesObject.Genre.Description)"
                color="primary">
                {{favoriteMoviesObject.Genre.Name}}
            </button>
            <mat-icon [ngStyle]="{'color': '#fff176'}" (click)="removeFromFavorites(favoriteMoviesObject._id)">
                favorite
            </mat-icon>
        </mat-card-actions>
    </mat-card>
    <div
        [ngStyle]="{'margin': '0 auto', 'align-content': 'center', 'align-items': 'center', 'justify-content': 'center', 'justify-items': 'center'}">
        <mat-progress-spinner *ngIf="loading" [color]="color" [mode]="mode" [ngStyle]="{'z-index': '999'}">
        </mat-progress-spinner>
    </div>
</div>
<h2 [ngStyle]="{'color': '#fff', 'opacity': '0.8'}">
    Your Profile Information
</h2>
<mat-card [ngStyle]="{'margin-left': '2rem', 'padding-top':'2rem', 'max-width': '300px'}">
    <mat-card-title [ngStyle]="{'color': '#fff', 'opacity': '0.8'}">
        Username: {{currentUser.Username}}
    </mat-card-title>
    <mat-card-subtitle [ngStyle]="{'color': '#fff', 'opacity': '0.8'}">
        Email: {{currentUser.Email}}
    </mat-card-subtitle>
    <mat-card-content>
        <div>
            Birthday: {{birthday}}
        </div>
    </mat-card-content>
    <mat-card-actions>
        <button mat-flat-button [ngStyle]="{'background-color': '#fff176', 'width': '100%'}" (click)="showEditDialog()"
            color="primary">
            Edit Profile
        </button>
        <div>
            <button mat-flat-button [ngStyle]="{ 'background-color': '#F48FB1', 'width': '100%'}" (click)="deleteUser()"
                color="accent">
                Delete Account
            </button>
        </div>
    </mat-card-actions>
</mat-card>